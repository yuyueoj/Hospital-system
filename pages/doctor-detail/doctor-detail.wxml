<!--pages/doctor-detail/doctor-detail.wxml-->
<view class="container">
  <!-- 医生头部信息 -->
  <view class="doctor-header">
    <view class="doctor-photo-large">
      <image wx:if="{{doctorInfo.photo}}" src="{{doctorInfo.photo}}" mode="aspectFill" class="photo-large"></image>
      <view wx:else class="doctor-avatar-large">
        <text class="avatar-text">{{doctorInfo.name.charAt(0)}}</text>
      </view>
    </view>
    <view class="doctor-basic-info">
      <view class="doctor-name">{{doctorInfo.name}}</view>
      <view class="doctor-title">{{doctorInfo.title}}</view>
      <view class="doctor-hospital">{{doctorInfo.hospitalName}} · {{doctorInfo.departmentName}}</view>
    </view>
  </view>

  <!-- 医生详细信息 -->
  <view class="info-sections">
    <!-- 擅长病症 -->
    <view class="info-section" wx:if="{{doctorInfo.specialties}}">
      <view class="section-title">擅长病症</view>
      <view class="specialties-tags">
        <view class="specialty-tag" wx:for="{{specialtiesList}}" wx:key="{{index}}">{{item}}</view>
      </view>
    </view>

    <!-- 医生简介 -->
    <view class="info-section">
      <view class="section-title">医生简介</view>
      <view class="introduction">
        <text class="introduction-text">{{doctorInfo.introduction}}</text>
      </view>
    </view>

    <!-- 基本信息 -->
    <view class="info-section">
      <view class="section-title">基本信息</view>
      <view class="info-items">
        <view class="info-item">
          <text class="label">所属医院：</text>
          <text class="value">{{doctorInfo.hospitalName}}</text>
        </view>
        <view class="info-item">
          <text class="label">所属科室：</text>
          <text class="value">{{doctorInfo.departmentName}}</text>
        </view>
        <view class="info-item">
          <text class="label">职称：</text>
          <text class="value">{{doctorInfo.title}}</text>
        </view>
      </view>
    </view>

    <!-- 预约咨询 -->
    <view class="info-section">
      <view class="section-title">预约咨询</view>
      <view class="consultation-info">
        <text class="consultation-text">如需预约或咨询，请联系医院相关科室</text>
        <view class="consultation-tips">
          <text class="tip-item">• 建议提前预约挂号</text>
          <text class="tip-item">• 就诊时请携带相关病历资料</text>
          <text class="tip-item">• 如有疑问可先咨询导医台</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 底部操作区 -->
  <view class="bottom-actions">
    <button class="action-button secondary" bindtap="goBack">返回列表</button>
    <button class="action-button primary" bindtap="showContactInfo">联系医院</button>
  </view>

  <!-- 加载状态 -->
  <view class="loading-state" wx:if="{{loading}}">
    <text>加载中...</text>
  </view>

  <!-- 错误状态 -->
  <view class="error-state" wx:if="{{error}}">
    <text>{{error}}</text>
    <button class="retry-button" bindtap="retry">重试</button>
  </view>
</view>